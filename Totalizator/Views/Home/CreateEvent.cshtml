@{
    ViewBag.Title = "CreateEvent";
}

@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/Services")
@Scripts.Render("~/ViewModels")
@Styles.Render("~/Content/totalizatorStyles.css")

<h2>CreateEvent</h2>
<form class="main-element" data-bind="submit: SaveEvent">
    <div class="item-element">
        <label for="gameType">Type</label>
        <select id="gameType" data-bind="options: TypeList, optionsText: 'Name', optionsValue: 'Id', value: TypeOfEvent"></select>
    </div>
    <div class="item-element">
        <label for="date">Date</label>
        <input type="datetime-local" id="date" data-bind="value: DateOfEvent" >
    </div>
    <div class="item-element">
        <label for="name">Name</label>
        <input id="name" data-bind="value: NameOfEvent" required>
    </div>
    <div class="item-element">
        <label for="description">Description</label>
        <textarea id="description" data-bind="value: DescriptionOfEvent"></textarea>
    </div>
    <div class="item-element">
        <label for="firstTeam">First Team</label>
        <select id="firstTeam" data-bind="options: TeamList, optionsText: 'Name', optionsValue: 'Id', value: FirstTeamId"></select>
    </div>
    <div class="item-element">
        <label for="secondTeam">Second Team</label>
        <select id="secondTeam" data-bind="options: TeamList, optionsText: 'Name', optionsValue: 'Id', value: SecondTeamId"></select>
    </div>
    <div class="item-element">
        <label for="coefficient-team-first">First Team Coefficient</label>
        <input type="number" step="0.1" id="coefficient-team-first" data-bind="value: TeamFirstCoefficient">
    </div>
    <div class="item-element">
        <label for="coefficient-team-second">First Second Coefficient</label>
        <input type="number" step="0.1" id="coefficient-team-second" data-bind="value: TeamSecondCoefficient">
    </div>
    <div class="item-element">
        <label for="Winner">Winner</label>
        <select id="winner" data-bind="options: TeamList, optionsText: 'Name', optionsValue: 'Id', value: WinnerTeamId, attr : {'disabled' : isDisabled}"></select>
    </div>
    <div class="item-element">
        <label for="total-team-first">First Team Points</label>
        <input type="number" step="0.5" id="total-team-first" data-bind="value: TeamFirstPoints">
    </div>
    <div class="item-element">
        <label for="total-team-second">Second Team Points</label>
        <input type="number" step="0.5" id="total-team-second" data-bind="value: TeamSecondPoints">
    </div>
    <div class="item-element">
        <label for="status">Status</label>
        <select id="status" data-bind="options: StatusesList, value: StatusOfEvent, event: {change: OnChangeStatus}"></select>
    </div>
    <div class="button-container">
        <button type="submit">Submit</button>
    </div>
</form >

@section scripts{
    <script>
        var createEventService = new CreateEventService();
        var createEventViewModel = new CreateEventViewModel(createEventService);
        createEventViewModel.init();
        ko.applyBindings(createEventViewModel);
    </script>
}